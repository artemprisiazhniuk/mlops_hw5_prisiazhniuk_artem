# Модели ML в продакшн. Домашнее задание 5

**Краткое описание проекта:** настройка DAG в Airflow, который собирает данные, обучает и деплоит модель (текстово в демо-формате); реализует проверки качества и условную логику обновления модели.

**Команды сборки и запуска:** для использования необходимо
- склонировать данный репозиторий с помощью `git clone` и зайти в соответствующую папку `cd mlops_hw5_prisiazhniuk_artem`
- иметь установленные docker
- создать файл .env с токеном для телеграма
- запустить docker через `docker build -t airflow .` и `docker run --env-file .env -p 8080:8080 -it airflow`
- теперь можно зайти в Airflow UI по адресу `localhost:8080` и запустить DAG вручную (или подождать автоматического запуска по времени)

В нашем игрушечном примере проверка качества модели реализована через переменную METRIC. В настоящем проекте метрика бы считалась на основе валидационного набора данных. Чтобы имитировать разные сценарии я запустил пайплайн с моделью v1.0.0 с "метрикой" 0.9, превосходящей порог 0.85, и с моделью v1.1.0 с метрикой 0.8 ниже порога. Можно видеть, что пайплайн выолнялся соответствующе. В первом случае [пайплайн был пройден полностью](img/success.png) и пришло сообщение о выкате модели, во втором [пайплайн ушел в ветку ошибки](img/fail.png) и пришло сообщение об ошибке. Сообщения приходили в [Телеграм](img/messages.png).
